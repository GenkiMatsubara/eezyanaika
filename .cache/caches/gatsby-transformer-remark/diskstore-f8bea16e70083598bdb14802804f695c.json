{"expireTime":9007200823471487000,"key":"transformer-remark-markdown-ast-5273d53bf322018654e97b7d01dd6f54-gatsby-remark-relative-imagesgatsby-remark-imagesgatsby-remark-copy-linked-files-","val":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"この記事で学べる内容","position":{"start":{"line":1,"column":4,"offset":3},"end":{"line":1,"column":14,"offset":13},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":14,"offset":13},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"nodeの使い方","position":{"start":{"line":3,"column":3,"offset":17},"end":{"line":3,"column":11,"offset":25},"indent":[]}}],"position":{"start":{"line":3,"column":3,"offset":17},"end":{"line":3,"column":11,"offset":25},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":15},"end":{"line":3,"column":11,"offset":25},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"gulpの簡単な使い方","position":{"start":{"line":4,"column":3,"offset":28},"end":{"line":4,"column":14,"offset":39},"indent":[]}}],"position":{"start":{"line":4,"column":3,"offset":28},"end":{"line":4,"column":14,"offset":39},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":26},"end":{"line":4,"column":14,"offset":39},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"imageminを使った画像圧縮","position":{"start":{"line":5,"column":3,"offset":42},"end":{"line":5,"column":19,"offset":58},"indent":[]}}],"position":{"start":{"line":5,"column":3,"offset":42},"end":{"line":5,"column":19,"offset":58},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":40},"end":{"line":5,"column":19,"offset":58},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":15},"end":{"line":5,"column":19,"offset":58},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Githubはこちら","position":{"start":{"line":7,"column":5,"offset":64},"end":{"line":7,"column":15,"offset":74},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":60},"end":{"line":7,"column":15,"offset":74},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/RantaroTech/imagemin_gulp","children":[{"type":"text","value":"https://github.com/RantaroTech/imagemin_gulp","position":{"start":{"line":9,"column":2,"offset":77},"end":{"line":9,"column":46,"offset":121},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":76},"end":{"line":9,"column":47,"offset":122},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":76},"end":{"line":9,"column":47,"offset":122},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"下記の1~11のコマンドを実行すると画像の圧縮がすぐに行えるようになります","position":{"start":{"line":11,"column":5,"offset":128},"end":{"line":11,"column":42,"offset":165},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":124},"end":{"line":11,"column":42,"offset":165},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"自分で導入する際にgulpやimageminを調べたりして大変だったので非エンジニアでも使えるようにコピペだけで使えるようにまとめました。","position":{"start":{"line":13,"column":1,"offset":167},"end":{"line":13,"column":70,"offset":236},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":167},"end":{"line":13,"column":70,"offset":236},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"順番にターミナルでコマンドを実行してください。","position":{"start":{"line":15,"column":5,"offset":242},"end":{"line":15,"column":28,"offset":265},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":238},"end":{"line":15,"column":28,"offset":265},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"nodebrewをインストール ","position":{"start":{"line":18,"column":4,"offset":271},"end":{"line":18,"column":20,"offset":287},"indent":[]}}],"position":{"start":{"line":18,"column":4,"offset":271},"end":{"line":18,"column":20,"offset":287},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":268},"end":{"line":18,"column":20,"offset":287},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":268},"end":{"line":18,"column":20,"offset":287},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"brew install nodebrew","position":{"start":{"line":20,"column":1,"offset":289},"end":{"line":22,"column":4,"offset":318},"indent":[1,1]}},{"type":"list","ordered":true,"start":2,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"yarnをインストール","position":{"start":{"line":24,"column":4,"offset":323},"end":{"line":24,"column":15,"offset":334},"indent":[]}}],"position":{"start":{"line":24,"column":4,"offset":323},"end":{"line":24,"column":15,"offset":334},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":320},"end":{"line":24,"column":15,"offset":334},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":320},"end":{"line":24,"column":15,"offset":334},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"brew install yarn","position":{"start":{"line":26,"column":1,"offset":336},"end":{"line":28,"column":4,"offset":361},"indent":[1,1]}},{"type":"list","ordered":true,"start":3,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"npm init (npmを使うための設定)","position":{"start":{"line":30,"column":4,"offset":366},"end":{"line":30,"column":26,"offset":388},"indent":[]}}],"position":{"start":{"line":30,"column":4,"offset":366},"end":{"line":30,"column":26,"offset":388},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":363},"end":{"line":30,"column":26,"offset":388},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":363},"end":{"line":30,"column":26,"offset":388},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"npm init","position":{"start":{"line":32,"column":1,"offset":390},"end":{"line":34,"column":4,"offset":406},"indent":[1,1]}},{"type":"list","ordered":true,"start":4,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"srcファイルを作成","position":{"start":{"line":36,"column":4,"offset":411},"end":{"line":36,"column":14,"offset":421},"indent":[]}}],"position":{"start":{"line":36,"column":4,"offset":411},"end":{"line":36,"column":14,"offset":421},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":408},"end":{"line":36,"column":14,"offset":421},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":408},"end":{"line":36,"column":14,"offset":421},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"mkdir src","position":{"start":{"line":38,"column":1,"offset":423},"end":{"line":40,"column":4,"offset":440},"indent":[1,1]}},{"type":"list","ordered":true,"start":5,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"distファイルを作成","position":{"start":{"line":42,"column":4,"offset":445},"end":{"line":42,"column":15,"offset":456},"indent":[]}}],"position":{"start":{"line":42,"column":4,"offset":445},"end":{"line":42,"column":15,"offset":456},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":442},"end":{"line":42,"column":15,"offset":456},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":442},"end":{"line":42,"column":15,"offset":456},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"mkdir dist","position":{"start":{"line":44,"column":1,"offset":458},"end":{"line":46,"column":4,"offset":476},"indent":[1,1]}},{"type":"list","ordered":true,"start":6,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"gulpfile.jsを作成","position":{"start":{"line":48,"column":4,"offset":481},"end":{"line":48,"column":18,"offset":495},"indent":[]}}],"position":{"start":{"line":48,"column":4,"offset":481},"end":{"line":48,"column":18,"offset":495},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":478},"end":{"line":48,"column":18,"offset":495},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":478},"end":{"line":48,"column":18,"offset":495},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"touch gulpfile.js","position":{"start":{"line":50,"column":1,"offset":497},"end":{"line":52,"column":4,"offset":522},"indent":[1,1]}},{"type":"list","ordered":true,"start":7,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"gulpをインストール","position":{"start":{"line":54,"column":4,"offset":527},"end":{"line":54,"column":15,"offset":538},"indent":[]}}],"position":{"start":{"line":54,"column":4,"offset":527},"end":{"line":54,"column":15,"offset":538},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":524},"end":{"line":54,"column":15,"offset":538},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":524},"end":{"line":54,"column":15,"offset":538},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"npm install gulp","position":{"start":{"line":56,"column":1,"offset":540},"end":{"line":58,"column":4,"offset":564},"indent":[1,1]}},{"type":"list","ordered":true,"start":8,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"imageminをインストール","position":{"start":{"line":60,"column":4,"offset":569},"end":{"line":60,"column":19,"offset":584},"indent":[]}}],"position":{"start":{"line":60,"column":4,"offset":569},"end":{"line":60,"column":19,"offset":584},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":566},"end":{"line":60,"column":19,"offset":584},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":566},"end":{"line":60,"column":19,"offset":584},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.npmjs.com/package/gulp-imagemin","children":[{"type":"text","value":"https://www.npmjs.com/package/gulp-imagemin","position":{"start":{"line":62,"column":2,"offset":587},"end":{"line":62,"column":45,"offset":630},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":586},"end":{"line":62,"column":46,"offset":631},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":586},"end":{"line":62,"column":46,"offset":631},"indent":[]}},{"type":"list","ordered":true,"start":9,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"imagemin-mozjpegをインストール","position":{"start":{"line":64,"column":4,"offset":636},"end":{"line":64,"column":27,"offset":659},"indent":[]}}],"position":{"start":{"line":64,"column":4,"offset":636},"end":{"line":64,"column":27,"offset":659},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":633},"end":{"line":64,"column":27,"offset":659},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":633},"end":{"line":64,"column":27,"offset":659},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.npmjs.com/package/imagemin-mozjpeg","children":[{"type":"text","value":"https://www.npmjs.com/package/imagemin-mozjpeg","position":{"start":{"line":66,"column":2,"offset":662},"end":{"line":66,"column":48,"offset":708},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":661},"end":{"line":66,"column":49,"offset":709},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":661},"end":{"line":66,"column":49,"offset":709},"indent":[]}},{"type":"list","ordered":true,"start":10,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"imagemin-pngquantをインストール","position":{"start":{"line":68,"column":5,"offset":715},"end":{"line":68,"column":29,"offset":739},"indent":[]}}],"position":{"start":{"line":68,"column":5,"offset":715},"end":{"line":68,"column":29,"offset":739},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":711},"end":{"line":68,"column":29,"offset":739},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":711},"end":{"line":68,"column":29,"offset":739},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.npmjs.com/package/imagemin-pngquant","children":[{"type":"text","value":"https://www.npmjs.com/package/imagemin-pngquant","position":{"start":{"line":70,"column":2,"offset":742},"end":{"line":70,"column":49,"offset":789},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":741},"end":{"line":70,"column":50,"offset":790},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":741},"end":{"line":70,"column":50,"offset":790},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"ここまで実行するとこのようなディレクトリ構造になっています。","position":{"start":{"line":73,"column":1,"offset":793},"end":{"line":73,"column":31,"offset":823},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":793},"end":{"line":73,"column":31,"offset":823},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"├ dist　　　　　　　　　　　　　　　　　　               ・圧縮した画像が置かれる　(ディストリビューションの略)\n├ gulpfile.js                        ・gulｐの設定を行う　　　　　　　　　　\n├ node_modules               ・nodeの設定が補完される\n├ package-lock.json          ・nodeのバージョンを表記する\n├ package.json                   ・nodeの設定を記述する\n└ src                                    ・圧縮前の画像を保管する　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　","position":{"start":{"line":75,"column":1,"offset":825},"end":{"line":82,"column":4,"offset":1196},"indent":[1,1,1,1,1,1,1]}},{"type":"list","ordered":true,"start":11,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"gulpfile.jsに下記をコピぺする","position":{"start":{"line":84,"column":5,"offset":1202},"end":{"line":84,"column":25,"offset":1222},"indent":[]}}],"position":{"start":{"line":84,"column":5,"offset":1202},"end":{"line":84,"column":25,"offset":1222},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":1198},"end":{"line":84,"column":25,"offset":1222},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":1198},"end":{"line":84,"column":25,"offset":1222},"indent":[]}},{"type":"code","lang":"gulpfile.js","meta":null,"value":"const gulp = require('gulp');\nconst distDir = 'dist';\nconst srcDir = 'src';\nconst imagemin = require('gulp-imagemin');\nconst pngquant = require('imagemin-pngquant');\nconst mozjpeg = require('imagemin-mozjpeg');\n\ngulp.task('img', () => {\n  return gulp.src(srcDir + '/*.{png,jpg,gif}')\n    .pipe(imagemin([\n      pngquant('65-80'),// 配列を渡すと文字列を渡すようにエラーが出たので画質のみを設定\n      mozjpeg({\n        quality: 85,\n        progressive: true\n      }),\n      imagemin.svgo(),\n      imagemin.optipng(),\n      imagemin.gifsicle()\n    ]))\n    .pipe(gulp.dest(distDir));\n});","position":{"start":{"line":86,"column":1,"offset":1224},"end":{"line":108,"column":4,"offset":1796},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"gulpを実際に実行する","position":{"start":{"line":110,"column":5,"offset":1802},"end":{"line":110,"column":17,"offset":1814},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":1798},"end":{"line":110,"column":17,"offset":1814},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"gulp img","position":{"start":{"line":112,"column":1,"offset":1816},"end":{"line":114,"column":4,"offset":1832},"indent":[1,1]}},{"type":"code","lang":null,"meta":null,"value":"Using gulpfile ~/test_gulp/gulpfile.js\nStarting 'img'...\ngulp-imagemin: Minified 1 image (saved 25 kB - 67%)\nFinished 'img' after 527 ms","position":{"start":{"line":116,"column":1,"offset":1834},"end":{"line":121,"column":4,"offset":1978},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"６７％圧縮できました！","position":{"start":{"line":123,"column":1,"offset":1980},"end":{"line":123,"column":12,"offset":1991},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":1980},"end":{"line":123,"column":12,"offset":1991},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"　まとめ","position":{"start":{"line":125,"column":3,"offset":1995},"end":{"line":125,"column":7,"offset":1999},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":1993},"end":{"line":125,"column":7,"offset":1999},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"画像容量を6割近く削減することができました。\nデザイナーではない素人目ですが画像の劣化などあまり気になりませんでした。","position":{"start":{"line":126,"column":1,"offset":2000},"end":{"line":127,"column":37,"offset":2059},"indent":[1]}}],"position":{"start":{"line":126,"column":1,"offset":2000},"end":{"line":127,"column":37,"offset":2059},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"・基本的に ","position":{"start":{"line":129,"column":1,"offset":2061},"end":{"line":129,"column":7,"offset":2067},"indent":[]}},{"type":"inlineCode","value":"gulpfile.js","position":{"start":{"line":129,"column":7,"offset":2067},"end":{"line":129,"column":20,"offset":2080},"indent":[]}},{"type":"text","value":" を変更すれば設定を変更可能です。","position":{"start":{"line":129,"column":20,"offset":2080},"end":{"line":129,"column":37,"offset":2097},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":2061},"end":{"line":129,"column":37,"offset":2097},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"・細かい圧縮の設定などを変更したい場合はリンクの公式のオプションを参考にしてみてください。","position":{"start":{"line":131,"column":1,"offset":2099},"end":{"line":131,"column":46,"offset":2144},"indent":[]}}],"position":{"start":{"line":131,"column":1,"offset":2099},"end":{"line":131,"column":46,"offset":2144},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"ここまでお読みいただきありがとうございました。","position":{"start":{"line":133,"column":1,"offset":2146},"end":{"line":133,"column":24,"offset":2169},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":2146},"end":{"line":133,"column":24,"offset":2169},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":134,"column":1,"offset":2170}}}}